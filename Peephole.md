**Peephole optimization** - оптимизация выполняется на маленьком **наборе инструкций компилятора**(**peephole**, **window**) - мы его заменяем аналогичным набором, который выполняется быстрее или занимает меньше памяти.

Цели:
1) увеличить производительность;
2) уменьшить размер кода;
3) уменьшиить объем занимаемой памяти(memory footprint).

Разные техники:

1) **Constant folding** - вычисление, состоящее из констант, может быть вычислено во время компиляции.
   Было: x = 2 * 3;
   Стало: x = 6;

2) **Redundant load and store elimination** -
   Было: y = x + 5;
         i = y;
         z = i;
         w = z * 3;
   Стало: y = x + 5;
          w = y * 3;

3) **Strength reduction** - замена одних инструкций более быстрыми инструкциями.
   Было: y = x * 2;
   Стало: y = x + x; y = x << 1;

4) **Null sequences** / **simplify algebraic expressions** - удаляем бессмысленные инструкции.
   Например:
     a = a + 0;
     a = a * 1;
     a = a / 1;
     a = a - 0;

5) **Combine operations** - несколько инструкций заменяется одной эквивалентной инструкцией.

6) **Deadcode elimination** - удаляем инструкции, которые либо никогда не выполняются, либо не производят никакого эффекта.
   Было:
     int Dead(void) {
       int a = 10;
       int z = 50;
       int c;
       c = z * 5;
       printf(c);
       a = 20;      // нам не нужна эта инструкция
       a = a * 10;  // нам не нужна эта инструкция
       return 0;
     }
   Стало:
     int Dead(void) {
       int a = 10;
       int z = 50;
       int c;
       c = z * 5;
       printf(c);
       return 0;
     }
     
   
